<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protect PDF Online Free - Add Password Protection | PDFrow</title>
    <meta name="description" content="Protect PDF files with password encryption for free. Secure your documents with strong password protection. No software installation required.">
    <meta name="keywords" content="protect PDF, PDF password protection, secure PDF, encrypt PDF, PDF security, add password to PDF">
    <meta name="author" content="PDFrow">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="Protect PDF Online Free - Add Password Protection | PDFrow">
    <meta property="og:description" content="Protect PDF files with password encryption for free. Secure your documents with strong password protection.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://pdfrow.com/protect-pdf">
    <meta property="og:image" content="https://pdfrow.com/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="PDFrow PDF Protector - Add Password Protection">
    <meta property="og:site_name" content="PDFrow">

    <!-- Twitter Card meta tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Protect PDF Online Free - Add Password Protection | PDFrow">
    <meta name="twitter:description" content="Protect PDF files with password encryption for free. Secure your documents with strong password protection.">
    <meta name="twitter:image" content="https://pdfrow.com/og-image.png">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://pdfrow.com/protect-pdf.html">

    <!-- Apple meta tags -->
    <meta name="application-name" content="PDFrow">
    <meta name="apple-mobile-web-app-title" content="PDFrow">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Preload critical resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="auth.css">
    <link rel="stylesheet" href="url-import.css">

    <!-- Logo Size Customization -->
    <style>
        .logo-image {
            width: 56px !important;
            height: 56px !important;
        }

        .logo-text {
            font-size: 1.6rem !important;
            font-weight: 600 !important;
        }

        .footer .logo-image {
            width: 48px !important;
            height: 48px !important;
        }

        .footer .logo-text {
            font-size: 1.3rem !important;
        }

        .logo {
            align-items: center !important;
            gap: 0.75rem !important;
        }
    </style>

    <!-- Page-specific styles -->
    <style>
        .page-header {
            position: relative;
            padding: 1rem 0 2rem 0;
            margin-top: 6rem;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            border-bottom: 1px solid var(--border-color);
        }

        .page-header-background {
            position: absolute;
            inset: 0;
            overflow: hidden;
        }

        .header-decoration {
            position: absolute;
            top: 0;
            right: 0;
            width: 300px;
            height: 200px;
            background: linear-gradient(135deg, var(--accent-primary) 10%, transparent 70%);
            opacity: 0.1;
            border-radius: 50%;
            transform: translate(30%, -30%);
        }

        .page-header-content {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .breadcrumb-link {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .breadcrumb-link:hover {
            color: var(--accent-primary);
        }

        .breadcrumb-current {
            color: var(--text-primary);
            font-weight: 500;
        }

        .page-title-section {
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .tool-icon-large {
            flex-shrink: 0;
        }

        .icon-background {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 8px 32px rgba(var(--accent-primary-rgb), 0.3);
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 0.5rem 0;
            line-height: 1.2;
        }

        .page-description {
            font-size: 1.125rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin: 0;
            max-width: 600px;
        }

        .tool-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .feature-item:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .feature-item svg {
            color: var(--accent-primary);
            flex-shrink: 0;
        }

        .security-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.875rem;
            color: var(--text-secondary);
            max-width: fit-content;
        }

        .security-badge svg {
            color: var(--accent-primary);
            flex-shrink: 0;
        }

        /* Loading states */
        .loading-state {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border: 2px dashed var(--accent-primary);
            border-radius: 12px;
            color: var(--text-primary);
            font-weight: 500;
        }

        .loading-state.active {
            display: flex;
        }

        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        /* Validation error styles */
        .validation-error {
            display: none;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 1rem 1.25rem;
            background: var(--error-bg, #fef2f2);
            border-left: 4px solid var(--error-border, #dc2626);
            border-radius: 6px;
            color: var(--error-text, #dc2626);
            margin-top: 1rem;
            font-size: 0.9rem;
        }

        .validation-error.active {
            display: flex;
        }

        .validation-error svg {
            flex-shrink: 0;
            width: 18px;
            height: 18px;
            margin-top: 2px;
        }

        .validation-error-content {
            flex: 1;
        }

        .validation-error-title {
            font-weight: 600;
            margin-bottom: 0.35rem;
            font-size: 0.95rem;
        }

        .validation-error-details {
            font-size: 0.85rem;
            opacity: 0.95;
            line-height: 1.5;
        }

        /* Dark mode error styles */
        .dark-mode .validation-error {
            background: var(--error-bg, #1f1818);
            border-color: var(--error-border, #451a1a);
            color: var(--error-text, #f87171);
        }

        /* Upload feedback styles */
        .upload-feedback {
            display: none;
            align-items: center;
            gap: 0.75rem;
            padding: 0.875rem 1.25rem;
            background: var(--bg-secondary, #f3f4f6);
            border-left: 4px solid var(--border-color, #d1d5db);
            border-radius: 6px;
            color: var(--text-primary, #374151);
            margin-top: 1rem;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .upload-feedback.active {
            display: flex;
        }

        .upload-feedback svg {
            flex-shrink: 0;
            width: 18px;
            height: 18px;
        }

        .dark-mode .upload-feedback {
            background: var(--bg-secondary, #1f2937);
            border-color: var(--border-color, #374151);
            color: var(--text-primary, #e5e7eb);
        }

        /* Password Input Styles */
        .password-input-container {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
        }

        .password-input-group {
            margin-bottom: 1rem;
        }

        .password-input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .password-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 1rem;
            transition: border-color 0.2s ease;
        }

        .password-input:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .password-toggle {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .password-input-wrapper {
            position: relative;
        }

        .password-hint {
            margin-top: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* Download Success Styles */
        .download-success {
            text-align: center;
            padding: 2rem;
        }

        .download-success svg {
            width: 56px;
            height: 56px;
            color: var(--accent-primary);
            margin: 0 auto 1.5rem;
            display: block;
        }

        .download-success h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
        }

        .download-success p {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .download-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .page-title-section {
                flex-direction: column;
                gap: 1rem;
            }

            .page-title {
                font-size: 2rem;
            }

            .tool-features {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }

            .feature-item {
                justify-content: center;
                text-align: center;
            }
        }
    </style>

    <!-- Compact Feature and Step Cards Styles -->
    <style>
        /* Make feature cards more compact */
        .features-grid {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.25rem;
        }

        .feature-card {
            padding: 1.25rem;
            border-radius: 12px;
        }

        .feature-icon {
            width: 56px;
            height: 56px;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .feature-card h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .feature-card p {
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Make step cards more compact */
        .steps-grid {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .step-card {
            padding: 1rem;
            border-radius: 10px;
        }

        .step-card .step-number {
            font-size: 1.75rem;
            margin-bottom: 0.75rem;
        }

        .step-card h3 {
            font-size: 1.25rem;
            margin-bottom: 0.4rem;
        }

        .step-card p {
            font-size: 1rem;
            line-height: 1.4;
            margin-bottom: 0;
        }

        /* FAQ Styles */
        .faq-section {
            padding: 4rem 0;
            background: var(--bg-secondary);
        }

        .faq-grid {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
        }

        .faq-question {
            padding: 1.5rem;
            background: var(--bg-primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-question h3 {
            margin: 0;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .faq-icon {
            transition: transform 0.3s ease;
        }

        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item.active .faq-answer {
            padding: 0 1.5rem 1.5rem;
            max-height: 500px;
        }

        .faq-answer p {
            margin: 0;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .features-grid,
            .steps-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .faq-question {
                padding: 1rem;
            }

            .faq-question h3 {
                font-size: 1rem;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .steps-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>

    <!-- hCaptcha -->
    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
    <script src="hcaptcha-config.js"></script>

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "PDFrow PDF Protector",
        "description": "Protect PDF files with password encryption for free. Secure your documents with strong password protection.",
        "url": "https://pdfrow.com/protect-pdf",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Free PDF protection",
            "Strong password encryption",
            "No software installation required",
            "Secure file processing",
            "Fast protection speed"
        ]
    }
    </script>
</head>
<body class="dark-mode">
    <div class="container">
        <!-- Navigation -->
        <nav class="main-nav">
            <div class="nav-container">
                <a href="/" class="logo">
                    <div class="logo-icon">
                        <img src="Official Logo PDFrow.png" alt="PDFrow Logo" class="logo-image">
                    </div>
                    <h1 class="logo-text">PDFrow</h1>
                </a>

                <div class="nav-links">
                    <a href="/" class="nav-link" data-translate="nav_tools">Tools</a>
                    <a href="/" class="nav-link" data-translate="nav_features">Features</a>
                    <a href="/" class="nav-link" data-translate="nav_how_it_works">How It Works</a>
                    <a href="/" class="nav-link" data-translate="nav_blog">Blog</a>
                    <a href="/" class="nav-link" data-translate="nav_faq">FAQ</a>
                </div>

                <div class="nav-actions">
                    <!-- Auth Buttons (shown when not logged in) -->
                    <div id="auth-buttons" class="auth-buttons">
                        <button class="btn-auth btn-login" id="loginBtn">Login</button>
                        <button class="btn-auth btn-signup" id="signupBtn">Sign Up</button>
                    </div>

                    <!-- User Menu (shown when logged in) -->
                    <div id="user-menu" class="user-menu" style="display: none;">
                        <div class="user-avatar" id="userAvatar">U</div>
                        <span class="user-email">user@example.com</span>
                        <div class="user-dropdown">
                            <button class="dropdown-item" id="profileBtn">Profile</button>
                            <button class="dropdown-item" id="logoutBtn">Logout</button>
                        </div>
                    </div>

                    <div class="theme-toggle" id="theme-toggle">
                    <div class="theme-toggle-track">
                        <div class="theme-toggle-thumb">
                            <svg class="theme-icon sun-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-label="Light theme">
                                <circle cx="12" cy="12" r="5"/>
                                <path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                            </svg>
                            <svg class="theme-icon dimmed-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-label="Dimmed theme">
                                <path d="M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"/>
                                <path d="M20 3v4m-2-2h4"/>
                            </svg>
                            <svg class="theme-icon moon-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-label="Dark theme">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Page Header -->
        <section class="page-header">
            <div class="page-header-background">
                <div class="header-decoration"></div>
            </div>
            <div class="page-header-content">
                <nav class="breadcrumb">
                    <a href="/" class="breadcrumb-link" data-translate="breadcrumb_home">Home</a>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="9,18 15,12 9,6"/>
                    </svg>
                    <span class="breadcrumb-current" data-translate="breadcrumb_current">Protect PDF</span>
                </nav>

                <div class="page-title-section">
                    <div class="tool-icon-large">
                        <div class="icon-background">
                            <img src="protect-pdf.png" alt="Protect PDF Icon" style="width: 50px; height: 50px;">
                        </div>
                    </div>

                    <div class="page-title-text">
                        <h1 class="page-title" data-translate="page_title">Protect PDF Online</h1>
                        <p class="page-description" data-translate="page_description">
                            Secure your PDF documents with password protection. Add encryption to keep your files safe and private.
                        </p>
                    </div>
                </div>

                <div class="tool-features">
                    <div class="feature-item">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                        <span data-translate="feature_strong_encryption">Strong Encryption</span>
                    </div>
                    <div class="feature-item">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            <path d="M9 12l2 2 4-4"/>
                        </svg>
                        <span data-translate="feature_secure_processing">Secure Processing</span>
                    </div>
                    <div class="feature-item">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                        <span data-translate="feature_fast_protection">Fast Protection</span>
                    </div>
                    <div class="feature-item">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                        </svg>
                        <span data-translate="feature_privacy_protected">Privacy Protected</span>
                    </div>
                </div>

                <!-- Security Badge -->
                <div class="security-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        <path d="M9 12l2 2 4-4"/>
                    </svg>
                    <span data-translate="security_badge">100% Secure - Files processed securely</span>
                </div>
            </div>
        </section>

        <!-- Tools Section -->
        <section class="tools-section" id="tools">
            <div class="section-header">
                <h2 class="section-title" data-translate="section_title">PDF Protection Tool</h2>
                <p class="section-subtitle" data-translate="section_subtitle">Add password protection to your PDF documents</p>
            </div>

            <div class="tools-grid">
                <!-- Protect PDF Tool -->
                <div class="tool-card active" data-tool="protect-pdf">
                    <div class="privacy-badge">
                        <span class="lock-icon">üîí</span>
                        <span data-translate="privacy_badge">100% secure. Files processed safely.</span>
                    </div>

                    <!-- Upload Method Toggle -->
                    <div class="upload-method-toggle">
                        <button class="upload-method-btn active" data-method="local" type="button">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="17 8 12 3 7 8"/>
                                <line x1="12" y1="3" x2="12" y2="15"/>
                            </svg>
                            <span data-translate="upload_from_computer">Upload from Computer</span>
                        </button>
                        <button class="upload-method-btn" data-method="url" type="button">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                            </svg>
                            <span data-translate="import_from_url">Import from URL</span>
                        </button>
                    </div>

                    <!-- URL Import Section -->
                    <div class="url-import-section" id="url-import-section">
                        <div class="url-input-container">
                            <svg class="url-input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
                            </svg>
                            <input
                                type="url"
                                class="url-input"
                                id="url-input"
                                data-translate="url_placeholder"
                                placeholder="Paste Dropbox or Google Drive link here..."
                                aria-label="Enter file URL from Dropbox or Google Drive"
                            >
                        </div>
                        <button class="url-import-btn" id="url-import-btn" type="button">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7 10 12 15 17 10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            <span data-translate="import_file_btn">Import File</span>
                        </button>

                        <div class="download-progress" id="download-progress">
                            <div class="progress-info">
                                <span id="download-status" data-translate="download_status">Downloading...</span>
                                <span id="download-size">0 MB / 0 MB</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="download-progress-fill"></div>
                            </div>
                        </div>

                        <div class="url-error-message" id="url-error-message"></div>
                        <div class="url-success-message" id="url-success-message"></div>

                        <div class="url-hints">
                            <div class="url-hints-title" data-translate="supported_services">Supported services:</div>
                            <ul class="url-hints-list">
                                <li data-translate="service_dropbox">Dropbox: Share link and paste here</li>
                                <li data-translate="service_gdrive">Google Drive: Get shareable link (Anyone with the link can view)</li>
                                <li data-translate="service_direct">Direct PDF URLs</li>
                                <li data-translate="max_file_size">Maximum file size: 50MB</li>
                            </ul>
                        </div>
                    </div>

                    <div class="upload-area" id="upload-area" data-translate="upload_area_pdf">
                        <div class="upload-icon">
                            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#4CAF50" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="17 8 12 3 7 8"/>
                                <line x1="12" y1="3" x2="12" y2="15"/>
                            </svg>
                        </div>
                        <div class="upload-text">
                            <p data-translate="upload_text">Click to select or drag and drop your PDF files</p>
                            <p class="upload-subtext" data-translate="upload_pdf_subtext">PDF files ‚Ä¢ Up to 10 files ‚Ä¢ Max 50MB total batch size</p>
                        </div>
                        <input type="file" class="file-input" accept=".pdf" multiple>

                        <!-- Loading State -->
                        <div class="loading-state" id="uploadLoading">
                            <div class="loading-spinner"></div>
                            <span>Processing your PDF...</span>
                        </div>
                    </div>

                    <!-- Upload Feedback -->
                    <div class="upload-feedback" id="uploadFeedback">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20,6 9,17 4,12"/>
                        </svg>
                        <span id="uploadFeedbackText">File uploaded successfully!</span>
                    </div>

                    <!-- Validation Error -->
                    <div class="validation-error" id="validationError">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="15" y1="9" x2="9" y2="15"/>
                            <line x1="9" y1="9" x2="15" y2="15"/>
                        </svg>
                        <div class="validation-error-content">
                            <div class="validation-error-title" id="validationErrorTitle">Invalid File</div>
                            <div class="validation-error-details" id="validationErrorDetails">Please check your file and try again.</div>
                        </div>
                    </div>

                    <div class="files-list"></div>

                    <!-- Password Input Section -->
                    <div class="password-input-container" id="passwordSection" style="display: none;">
                        <h3>Set Protection Password</h3>
                        <p>Enter a strong password to protect your PDF document.</p>

                        <div class="password-input-group">
                            <label for="pdfPassword">PDF Password</label>
                            <div class="password-input-wrapper">
                                <input type="password" id="pdfPassword" class="password-input" placeholder="Enter a strong password">
                                <button type="button" class="password-toggle" id="passwordToggle">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                        <circle cx="12" cy="12" r="3"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="password-hint">
                                Choose a strong password with letters, numbers, and symbols.
                            </div>
                        </div>

                        <button class="btn-primary" id="protectPdfBtn">Protect PDF</button>
                    </div>

                    <!-- Processing State -->
                    <div class="loading-state" id="processingState">
                        <div class="loading-spinner"></div>
                        <span>Adding password protection...</span>
                    </div>

                    <!-- Download Section -->
                    <div class="download-section" id="downloadSection" style="display: none;">
                        <div class="download-success">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22,4 12,14.01 9,11.01"/>
                            </svg>
                            <h3>PDF Successfully Protected!</h3>
                            <p>Your PDF has been secured with password protection. Download your protected file now.</p>

                            <div class="download-actions">
                                <button class="btn-primary" id="downloadBtn">Download Protected PDF</button>
                                <button class="btn-secondary" id="processAnotherBtn">Protect Another PDF</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features-section">
            <div class="section-header">
                <h2 class="section-title" data-translate="why_choose_title">Why Use Our PDF Protector</h2>
                <p class="section-subtitle" data-translate="why_choose_subtitle">Powerful features to secure your PDF documents</p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                    </div>
                    <h3 data-translate="feature_password_title">Strong Password Protection</h3>
                    <p data-translate="feature_password_desc">Add secure password encryption to your PDF files to prevent unauthorized access.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                    </div>
                    <h3 data-translate="feature_fast_title">Fast Processing</h3>
                    <p data-translate="feature_fast_desc">Protect your PDF files quickly with our optimized processing engine. No long waiting times.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            <path d="M9 12l2 2 4-4"/>
                        </svg>
                    </div>
                    <h3 data-translate="feature_security_title">Complete Security</h3>
                    <p data-translate="feature_security_desc">Your documents remain secure throughout the process. Files are encrypted and protected.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                        </svg>
                    </div>
                    <h3 data-translate="feature_privacy_title">Privacy Guaranteed</h3>
                    <p data-translate="feature_privacy_desc">Your files are processed securely. We never store or access your documents.</p>
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="steps-section">
            <div class="section-header">
                <h2 class="section-title" data-translate="how_to_title">How to Protect PDF Files</h2>
                <p class="section-subtitle" data-translate="how_to_subtitle">Simple steps to add password protection</p>
            </div>

            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3 data-translate="step1_title">Upload PDF</h3>
                    <p data-translate="step1_desc">Select your PDF file or drag and drop it into the upload area.</p>
                </div>

                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3 data-translate="step2_title">Set Password</h3>
                    <p data-translate="step2_desc">Enter a strong password to protect your PDF document.</p>
                </div>

                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3 data-translate="step3_title">Protect & Download</h3>
                    <p data-translate="step3_desc">Click protect and download your password-protected PDF file.</p>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq-section">
            <div class="section-header">
                <h2 class="section-title" data-translate="faq_title">Frequently Asked Questions</h2>
                <p class="section-subtitle" data-translate="faq_subtitle">Everything you need to know about protecting PDF files</p>
            </div>

            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question">
                        <h3 data-translate="faq1_question">How secure is the password protection?</h3>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p data-translate="faq1_answer">We use industry-standard encryption methods to protect your PDFs. The password protection is secure and only someone with the correct password can open the file.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h3 data-translate="faq2_question">Can I protect multiple PDFs at once?</h3>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p data-translate="faq2_answer">Currently, you can protect one PDF file at a time for optimal security and control.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h3 data-translate="faq3_question">What happens to my files after protection?</h3>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p data-translate="faq3_answer">Your files are processed locally in your browser and are never uploaded to our servers. Once protected, your original file remains unchanged.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h3 data-translate="faq4_question">Can I remove password protection later?</h3>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p data-translate="faq4_answer">Yes, if you know the password, you can use our Unlock PDF tool to remove the password protection.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="faq-item-hidden" style="display:none;">
                    <div class="faq-question">
                        <h3>Is there a file size limit?</h3>
                        <svg class="faq-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"/>
                        </svg>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, the maximum file size for protection is 50MB per file. This ensures optimal performance and processing speed for all users.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="/" class="logo">
                        <div class="logo-icon">
                            <img src="Official Logo PDFrow.png" alt="PDFrow Logo" class="logo-image">
                        </div>
                        <h1 class="logo-text">PDFrow</h1>
                    </a>
                    <p class="footer-description">Your all-in-one PDF solution platform</p>
                </div>

                <div class="footer-links">
                    <div class="footer-column">
                        <h3 data-translate="footer_tools_title">Tools</h3>
                        <ul>
                            <li><a href="/PDF-Unlocker.html">PDF Unlocker</a></li>
                            <li><a href="/protect-pdf.html">PDF Protector</a></li>
                            <li><a href="/">PDF Converter</a></li>
                            <li><a href="/">PDF Merger</a></li>
                        </ul>
                    </div>

                    <div class="footer-column">
                        <h3>Company</h3>
                        <ul>
                            <li><a href="/">About Us</a></li>
                            <li><a href="/">Contact</a></li>
                            <li><a href="/">Privacy Policy</a></li>
                            <li><a href="/">Terms of Service</a></li>
                        </ul>
                    </div>

                    <div class="footer-column">
                        <h3 data-translate="footer_support_title">Support</h3>
                        <ul>
                            <li><a href="/" data-translate="footer_faq">FAQ</a></li>
                            <li><a href="/" data-translate="footer_how_it_works">How It Works</a></li>
                            <li><a href="/" data-translate="footer_contact">Contact</a></li>
                        </ul>
                    </div>

                    <div class="footer-column">
                        <h4 data-translate="language">Language</h4>
                        <div class="language-dropdown">
                            <button class="language-btn" id="languageBtn">
                                <span class="flag" id="currentFlag">üá∫üá∏</span>
                                <span id="currentLang">English</span>
                                <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <polyline points="6,9 12,15 18,9"/>
                                </svg>
                            </button>
                            <div class="language-menu" id="languageMenu">
                                <div class="language-item" data-lang="en" data-flag="üá∫üá∏">
                                    <span class="flag">üá∫üá∏</span>
                                    <span>English</span>
                                </div>
                                <div class="language-item" data-lang="es" data-flag="üá™üá∏">
                                    <span class="flag">üá™üá∏</span>
                                    <span>Espa√±ol</span>
                                </div>
                                <div class="language-item" data-lang="fr" data-flag="üá´üá∑">
                                    <span class="flag">üá´üá∑</span>
                                    <span>Fran√ßais</span>
                                </div>
                                <div class="language-item" data-lang="de" data-flag="üá©üá™">
                                    <span class="flag">üá©üá™</span>
                                    <span>Deutsch</span>
                                </div>
                                <div class="language-item" data-lang="it" data-flag="üáÆüáπ">
                                    <span class="flag">üáÆüáπ</span>
                                    <span>Italiano</span>
                                </div>
                                <div class="language-item" data-lang="tr" data-flag="üáπüá∑">
                                    <span class="flag">üáπüá∑</span>
                                    <span>T√ºrk√ße</span>
                                </div>
                                <div class="language-item" data-lang="pt" data-flag="üáµüáπ">
                                    <span class="flag">üáµüáπ</span>
                                    <span>Portugu√™s</span>
                                </div>
                                <div class="language-item" data-lang="ru" data-flag="üá∑üá∫">
                                    <span class="flag">üá∑üá∫</span>
                                    <span>–†—É—Å—Å–∫–∏–π</span>
                                </div>
                                <div class="language-item" data-lang="zh" data-flag="üá®üá≥">
                                    <span class="flag">üá®üá≥</span>
                                    <span>‰∏≠Êñá</span>
                                </div>
                                <div class="language-item" data-lang="ja" data-flag="üáØüáµ">
                                    <span class="flag">üáØüáµ</span>
                                    <span>Êó•Êú¨Ë™û</span>
                                </div>
                                <div class="language-item" data-lang="ar" data-flag="üá∏üá¶">
                                    <span class="flag">üá∏üá¶</span>
                                    <span>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</span>
                                </div>
                                <div class="language-item" data-lang="hi" data-flag="üáÆüá≥">
                                    <span class="flag">üáÆüá≥</span>
                                    <span>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p data-translate="footer_copyright">&copy; <span id="current-year">2025</span> PDFrow. All rights reserved. Made with ‚ù§Ô∏è for document processing.</p>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script>
        // Configuration - USING YOUR ACTUAL API DETAILS
        const API_CONFIG = {
            BASE_URL: 'https://api.pdfrow.com',
            ENDPOINTS: {
                PROTECT_PDF: 'pdf/protect'
            },
            API_KEY: 'pdfrowsecretapi41'
        };

        // PDF Protector specific functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const uploadArea = document.getElementById('upload-area');
            const fileInput = uploadArea.querySelector('.file-input');
            const filesList = uploadArea.closest('.tool-card').querySelector('.files-list');
            const passwordSection = document.getElementById('passwordSection');
            const pdfPassword = document.getElementById('pdfPassword');
            const passwordToggle = document.getElementById('passwordToggle');
            const protectPdfBtn = document.getElementById('protectPdfBtn');
            const processingState = document.getElementById('processingState');
            const downloadSection = document.getElementById('downloadSection');
            const downloadBtn = document.getElementById('downloadBtn');
            const processAnotherBtn = document.getElementById('processAnotherBtn');
            const uploadLoading = document.getElementById('uploadLoading');
            const uploadFeedback = document.getElementById('uploadFeedback');
            const validationError = document.getElementById('validationError');

            let currentFile = null;
            let protectedFile = null;

            // Check for continued file from another tool
            const continuedFileData = sessionStorage.getItem('continuedFile');
            if (continuedFileData) {
                try {
                    const fileInfo = JSON.parse(continuedFileData);

                    // Convert base64 back to blob
                    fetch(fileInfo.data)
                        .then(res => res.blob())
                        .then(blob => {
                            // Create a File object
                            const file = new File([blob], fileInfo.name, { type: fileInfo.type });

                            // Auto-load the file
                            currentFile = file;

                            // Update UI
                            if (filesList) {
                                filesList.innerHTML = `
                                    <div class="file-item">
                                        <svg class="file-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/>
                                            <polyline points="13 2 13 9 20 9"/>
                                        </svg>
                                        <span class="file-name">${file.name}</span>
                                        <span class="file-size">${(file.size / 1024 / 1024).toFixed(2)} MB</span>
                                    </div>`;
                            }

                            if (uploadArea) {
                                uploadArea.style.display = 'none';
                            }

                            if (passwordSection) {
                                passwordSection.style.display = 'block';
                            }

                            console.log(`File "${fileInfo.name}" automatically loaded from ${fileInfo.from}`);

                            // Clear sessionStorage after loading
                            sessionStorage.removeItem('continuedFile');
                        })
                        .catch(error => {
                            console.error('Error loading continued file:', error);
                            sessionStorage.removeItem('continuedFile');
                        });
                } catch (error) {
                    console.error('Error parsing continued file data:', error);
                    sessionStorage.removeItem('continuedFile');
                }
            }

            // File upload handling
            uploadArea.addEventListener('click', (e) => {
                console.log('Upload area clicked');
                e.stopPropagation();
                fileInput.click();
            });

            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.stopPropagation();
                uploadArea.classList.add('dragover');
            });

            uploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                e.stopPropagation();
                uploadArea.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', (e) => {
                console.log('File dropped');
                e.preventDefault();
                e.stopPropagation();
                uploadArea.classList.remove('dragover');
                const files = e.dataTransfer.files;
                handleFiles(files);
            });

            fileInput.addEventListener('change', (e) => {
                console.log('File input changed, files:', e.target.files);
                handleFiles(e.target.files);
            });

            async function handleFiles(files) {
                console.log('handleFiles called with:', files);

                // Reset previous state
                hideAllSections();
                filesList.innerHTML = '';
                validationError.classList.remove('active');
                uploadFeedback.classList.remove('active');

                if (files.length === 0) {
                    console.log('No files selected');
                    return;
                }

                const file = files[0];
                console.log('Processing file:', file.name, file.type, file.size);

                // Validate file type
                if (file.type !== 'application/pdf') {
                    console.error('Invalid file type:', file.type);
                    showValidationError('Invalid File Type', 'Please select a PDF file.');
                    return;
                }

                // Validate file size (50MB limit)
                if (file.size > 50 * 1024 * 1024) {
                    console.error('File too large:', file.size);
                    showValidationError('File Too Large', 'Please select a PDF file smaller than 50MB.');
                    return;
                }

                currentFile = file;

                // File is valid, show success feedback
                showUploadFeedback('PDF file uploaded successfully!');

                // Add file to files list
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-size">${formatFileSize(file.size)}</div>
                    </div>
                    <div class="file-status">
                        <span class="status-badge ready">Ready to protect</span>
                    </div>
                `;
                filesList.appendChild(fileItem);

                // Show password section
                passwordSection.style.display = 'block';
                console.log('File ready for protection');
            }

            // Password toggle visibility
            passwordToggle.addEventListener('click', () => {
                const type = pdfPassword.getAttribute('type') === 'password' ? 'text' : 'password';
                pdfPassword.setAttribute('type', type);

                // Update icon
                passwordToggle.innerHTML = type === 'password' ?
                    '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>' :
                    '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>';
            });

            // Protect PDF button
            protectPdfBtn.addEventListener('click', async () => {
                const password = pdfPassword.value.trim();

                if (!password) {
                    showValidationError('Password Required', 'Please enter a password to protect the PDF file.');
                    return;
                }

                if (password.length < 4) {
                    showValidationError('Weak Password', 'Please enter a password with at least 4 characters.');
                    return;
                }

                // Show processing state
                hideAllSections();
                processingState.style.display = 'flex';

                try {
                    // Call the protect PDF API
                    const protectedPdfBlob = await protectPDF(currentFile, password);

                    processingState.style.display = 'none';
                    protectedFile = protectedPdfBlob;

                    // Clear the file list and reset
                    filesList.innerHTML = '';

                    // Show download section
                    downloadSection.style.display = 'block';
                } catch (error) {
                    console.error('Protect error:', error);

                    // Reset everything on error
                    processingState.style.display = 'none';
                    hideAllSections();
                    filesList.innerHTML = '';
                    fileInput.value = '';
                    pdfPassword.value = '';
                    currentFile = null;
                    uploadFeedback.classList.remove('active');

                    // Show user-friendly error message
                    let errorTitle = 'Protection Failed';
                    let errorDetails = 'Unable to protect the PDF. Please try again.';

                    if (error.message.includes('500')) {
                        errorDetails = 'Server error occurred. Please try again later or contact support.';
                    } else if (error.message.includes('connect')) {
                        errorDetails = 'Cannot connect to the server. Please check your internet connection.';
                    } else if (error.message.includes('password')) {
                        errorDetails = 'Password error. Please try with a different password.';
                    }

                    showValidationError(errorTitle, errorDetails);
                }
            });

            // Download protected PDF
            downloadBtn.addEventListener('click', () => {
                if (!protectedFile) return;

                // Create download link
                const url = URL.createObjectURL(protectedFile);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'protected_' + currentFile.name;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });

            // Process another PDF
            processAnotherBtn.addEventListener('click', () => {
                // Reset everything
                hideAllSections();
                filesList.innerHTML = '';
                fileInput.value = '';
                pdfPassword.value = '';
                currentFile = null;
                protectedFile = null;
                validationError.classList.remove('active');
                uploadFeedback.classList.remove('active');
            });

            // API Functions
            async function protectPDF(file, password) {
                console.log('protectPDF called for:', file.name);
                const formData = new FormData();
                formData.append('file', file);
                formData.append('password', password);

                const apiUrl = `${API_CONFIG.BASE_URL}/${API_CONFIG.ENDPOINTS.PROTECT_PDF}`;
                console.log('Sending protect request to:', apiUrl);

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: {
                            'x-api-key': API_CONFIG.API_KEY
                        },
                        body: formData
                    });

                    console.log('Protect response status:', response.status);

                    if (!response.ok) {
                        let errorMsg = `Server error: ${response.status} ${response.statusText}`;
                        try {
                            const errorData = await response.json();
                            errorMsg = errorData.message || errorMsg;
                        } catch (e) {
                            console.error('Could not parse error response:', e);
                        }
                        throw new Error(errorMsg);
                    }

                    const blob = await response.blob();
                    console.log('Protected PDF blob size:', blob.size);
                    return blob;

                } catch (error) {
                    console.error('protectPDF error:', error);
                    if (error.name === 'TypeError' && error.message.includes('fetch')) {
                        throw new Error('Cannot connect to server. Please check if the API server is running at ' + API_CONFIG.BASE_URL);
                    }
                    throw error;
                }
            }

            // Helper functions
            function hideAllSections() {
                passwordSection.style.display = 'none';
                processingState.style.display = 'none';
                downloadSection.style.display = 'none';
            }

            function showValidationError(title, details) {
                document.getElementById('validationErrorTitle').textContent = title;
                document.getElementById('validationErrorDetails').textContent = details;
                validationError.classList.add('active');
            }

            function showUploadFeedback(message) {
                document.getElementById('uploadFeedbackText').textContent = message;
                uploadFeedback.classList.add('active');
            }

            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            // FAQ functionality
            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', () => {
                    item.classList.toggle('active');
                });
            });
        });
    </script>
    <script src="protect-pdf-translations-complete.js"></script>
</body>
</html>
